<script context="module" lang="ts">
    import type {Load} from '@sveltejs/kit'

    export const load: Load = async ({ fetch } : {fetch:any}) => {
        const response = await fetch(
            'https://jsonplaceholder.typicode.com/posts', {
            headers: new Headers({
                Accept: 'application/json',
            }),
            }
        );
        // console.log(guides);
        if (!response.ok) {
            return { status: response.status }
        }
        const { data } = await response.json().results
        const latestData = data
        return {
            status: 200,
            props: {
                latestData,
            },
        }
    }
    // export let promise = getMovieData();
</script>

<script>
    console.log(new Date().toLocaleTimeString())
    export let latestData
    console.log(latestData)
</script>

<!--
<div class="guides">
    <ul>
        {#each guides as guide}
            <li>
                <a href="/">{guide.title}</a>
            </li>
        {/each}
    </ul>
</div>
-->
